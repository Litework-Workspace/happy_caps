<div class="content call-to-action {% render 'content-classes', scope: section %}">
  <div class="inner with-layout-options {{ settings.content_layout }}">
    <div class="rte">
      <div class="flex-row">
        {% for block in section.blocks %}
          <div class="banner">
            {% if block.settings.link != blank %}
              <a href="{{ block.settings.link }}">
            {% endif %}
            <div class="info">
              {% if block.settings.title != blank %}
                <h2 style="max-width: 300px;">{{ block.settings.title }}</h2>
              {% endif %}
              {% if block.settings.subtitle != blank %}
                <h6>{{ block.settings.subtitle }}</h6>
              {% endif %}
            </div>
            {% if block.settings.link != blank %}
              </a>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "t:sections.call-to-action.name",
    "class": "call-to-action",
    "settings": [
      {
        "type": "header",
        "content": "t:sections.settings.header.content"
      },
      {
        "type": "checkbox",
        "id": "show_background",
        "label": "t:sections.settings.show_background.label",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "expanded",
        "label": "t:sections.settings.expanded.label",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "expanded_content",
        "label": "t:sections.settings.expanded_content.label",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "collapsed",
        "label": "t:sections.settings.collapsed.label",
        "default": false
      },
      {
        "type": "checkbox",
        "id": "show_on_desktop",
        "label": "t:sections.settings.show_on_desktop.label",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_on_mobile",
        "label": "t:sections.settings.show_on_mobile.label",
        "default": true
      }
    ],
    "max_blocks": 2,
    "blocks": [
      {
        "type": "banner",
        "name": "t:sections.call-to-action.blocks.banner.name",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "t:sections.call-to-action.blocks.banner.settings.title.label",
            "default": {
              "en": "Call to action title",
              "es": "Título de la llamada a la acción"
            }
          },
          {
            "type": "text",
            "id": "subtitle",
            "label": "t:sections.call-to-action.blocks.banner.settings.subtitle.label",
            "default": {
              "en": "Call to action subtitle",
              "es": "Subtítulo de la llamada a la acción"
            }
          },
          {
            "type": "url",
            "id": "link",
            "label": "t:sections.call-to-action.blocks.banner.settings.link.label",
            "info": "t:sections.call-to-action.blocks.banner.settings.link.info"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "t:sections.call-to-action.presets.name",
        "blocks": [
          {
            "type": "banner"
          },
          {
            "type": "banner"
          }
        ]
      }
    ]
  }
{% endschema %}
